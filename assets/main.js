
document.getElementById('menuBtn').addEventListener('click',()=>document.getElementById('mobileNav').classList.toggle('hidden'));
const io=new IntersectionObserver(es=>es.forEach(e=>{if(e.isIntersecting)e.target.classList.add('show')}),{threshold:.2});document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
async function loadContent(){const[s,p]=await Promise.all([fetch('./assets/content/settings.json',{cache:'no-store'}),fetch('./assets/content/portfolio.json',{cache:'no-store'})]);const settings=await s.json();const portfolio=await p.json();document.getElementById('brandName').textContent=settings.name;document.getElementById('studioName').textContent=settings.name;document.getElementById('footerName').textContent=settings.name;document.getElementById('phoneTxt').textContent=settings.phone;document.getElementById('emailTxt').textContent=settings.email;document.getElementById('addressTxt').textContent=settings.address;document.getElementById('igLink').href=settings.instagram;document.getElementById('igBox').href=settings.instagram;document.getElementById('year').textContent=new Date().getFullYear();const grid=document.getElementById('grid');grid.innerHTML='';portfolio.items.forEach(img=>{const c=document.createElement('div');c.className='group relative rounded-2xl overflow-hidden bg-zinc-800 reveal';c.innerHTML=`<img src='${img.src}' alt='${img.title}' class='h-full w-full object-cover group-hover:scale-105 transition-transform duration-500'/><div class='absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity'></div><div class='absolute bottom-2 left-2 right-2 flex items-center justify-between'><div><p class='text-sm font-medium'>${img.title}</p><p class='text-xs text-zinc-300'>${(img.tags||[]).join(' â€¢ ')}</p></div><div class='text-xs opacity-80'>+</div></div>`;grid.appendChild(c)})}loadContent();document.getElementById('bookForm').addEventListener('submit',e=>{e.preventDefault();const d=new FormData(e.target);fetch('./assets/content/settings.json',{cache:'no-store'}).then(r=>r.json()).then(s=>{const subj=encodeURIComponent(`Tattoo Booking Request from ${d.get('name')}`);const body=encodeURIComponent(`Name: ${d.get('name')}\nEmail: ${d.get('email')}\nPhone: ${d.get('phone')}\nSize: ${d.get('size')}\nPlacement: ${d.get('placement')}\n\nIdea:\n${d.get('description')}`);window.location.href=`mailto:${s.email}?subject=${subj}&body=${body}`})});
